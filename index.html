<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body style="display: flex; flex-direction: column; align-items: center; justify-items: center; width: 100vw;">
    <h1 id="MSG">???</h1>
    <h2 id="SERIAL">###</h2>
    <button onclick="read()">LER</button>
</body>

<script>

    if ("NDEFReader" in window) {
        document.getElementById("MSG").innerHTML = "NDEFReader is supported";
    } else {
        document.getElementById("MSG").innerHTML = "NDEFReader is not supported";
    }

    Button.addEventListener("click", async () => {
        log("User clicked scan button");

    try {
        const ndef = new NDEFReader();
        await ndef.scan();
        document.getElementById("MSG").innerHTML = "> Scan started";

        ndef.addEventListener("readingerror", () => {
            document.getElementById("MSG").innerHTML = "Cannot read data from the NFC tag.";
        });

        ndef.addEventListener("reading", ({ message, serialNumber }) => {
            document.getElementById("SERIAL").innerHTML = `> Serial Number: ${serialNumber}`;
            document.getElementById("MSG").innerHTML = `> Records: (${message.records.length})`;
        });
    } catch (error) {
        log("Argh! " + error);
    }
});

    };



</script>

</html>